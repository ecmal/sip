{
  "version": 3,
  "file": "request.js",
  "sourceRoot": "/Users/Sergey/Work/GH/ecmal/sip/src",
  "sources": [
    "request.ts"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import {Message} from \"../message\";\nimport {Uri} from \"../common/uri\";\nimport {Transport} from \"../../transport\";\nimport {Paint} from \"../common/utils\";\nimport {Response} from \"./response\";\nimport {Challenge} from \"../common/challenge\";\n\nexport class Request extends Message {\n\n    public method:string;\n    public uri:Uri;\n    get headline():string{\n        return `${this.method} ${this.uri} ${this.version}`;\n    }\n    set expires(value:number){\n        this.setHeader(Message.HEADERS.EXPIRES,value);\n    }\n    get expires():number{\n        return this.getHeader(Message.HEADERS.EXPIRES)\n    }\n    \n    get authorization():Challenge {\n        return this.getHeader(Message.HEADERS.AUTHORIZATION);\n    }\n    set authorization(value:Challenge) {\n        this.setHeader(Message.HEADERS.AUTHORIZATION,value);\n    }\n\n    toString(){\n        return [\n            this.headline,\n            ... Message.headersToString(this.headers),\n            '',\n            ''\n        ].join('\\r\\n');\n    }\n\n    print(s?):Request{\n        var c = (s?Paint.magenta:Paint.cyan).bind(Paint);\n        var t = new Date().toISOString().substring(11,23);\n        console.info('');\n        console.info(`${c('============================================= ')}${Paint.gray(t)}${c(` REQUEST -- ${s?'>>':'<<'} --`)}`);\n        console.info(`${Paint.blue(Paint.bold(this.method))} ${Paint.blue(this.uri.toString())} ${this.version}`);\n        console.info(c(`---------------------------------------------------------- HEADERS -- ${s?'>>':'<<'} --`));\n        console.info(Message.headersToDebugString(this.headers).join('\\n'));\n        if(this.content && this.content.length){\n            console.info(c(`------------------------------------------------------------- BODY -- ${s?'>>':'<<'} --`));\n            console.info(Paint.gray(this.content.toString().trim()));\n        }\n        console.info(c(`-------------------------------------------------------------- END -- ${s?'>>':'<<'} --`));\n        return this;\n    }\n\n    send(transport:Transport):Promise<Response>{\n        return transport.request(this);\n    }\n\n    reply(status,message,fields:string){\n        var data = {status,message};\n        fields.trim().split(',').map(l=>l.trim()).forEach(k=>{\n            data[k] = this[k];\n        });\n        return new Response(data);\n    }\n}\n"
  ]
}